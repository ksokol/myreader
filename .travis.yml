language: java
jdk:
  - oraclejdk8

sudo: false

addons:
  sonarcloud:
    organization: "ksokol-github"
    token:
      secure: "GRaTBAwL9tHxCULbGDDZeHaSSvfUTTtEKCywZYCokO0XO5s5G4FN1koKM16ip9uH7pKeGfd6hi5MjiEqHvXphXGgu9qXDYpSFtnGB1I+Ixn2s/mEu6MXa+yURsxEH3UMGrhQoIn6SSFrNwtNa1B6Z4SIvFRvfjyI/f++Owp9jC8="
  chrome: stable

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
    - $HOME/.m2
    - $TRAVIS_BUILD_DIR/myreader-frontend/node_modules/
    - $HOME/.sonar/cache

# skip installation step
install: true

script:
  - ./gradlew check sonarqube
